<template>
  <div class="card-box p-6">
    <h2 class="text-xl font-semibold mb-4">
      ğŸ¨ {{ currentLocale === 'zh-CN' ? 'Element Plus é›†æˆæ¼”ç¤º' : 'Element Plus Integration Demo' }}
    </h2>

    <div class="space-y-6">
      <!-- è¯´æ˜ -->
      <div class="p-4 bg-info/10 border border-info rounded-lg">
        <p class="text-sm">
          <span v-if="currentLocale === 'zh-CN'">
            ä»¥ä¸‹ Element Plus ç»„ä»¶ä½¿ç”¨äº† Admin Core çš„ä¸»é¢˜é¢œè‰²ã€‚åˆ‡æ¢ä¸»é¢˜æˆ–æš—è‰²æ¨¡å¼ï¼ŒElement Plus ç»„ä»¶ä¼šè‡ªåŠ¨åŒæ­¥é¢œè‰²ã€‚
          </span>
          <span v-else>
            The following Element Plus components use Admin Core theme colors. Switch themes or dark mode, and Element Plus components will automatically sync colors.
          </span>
        </p>
      </div>

      <!-- æŒ‰é’®ç»„ -->
      <div>
        <h3 class="text-lg font-medium mb-3">
          {{ currentLocale === 'zh-CN' ? 'æŒ‰é’® (Buttons)' : 'Buttons' }}
        </h3>
        <div class="flex flex-wrap gap-3">
          <el-button type="primary">{{ currentLocale === 'zh-CN' ? 'ä¸»è¦æŒ‰é’®' : 'Primary' }}</el-button>
          <el-button type="success">{{ currentLocale === 'zh-CN' ? 'æˆåŠŸæŒ‰é’®' : 'Success' }}</el-button>
          <el-button type="warning">{{ currentLocale === 'zh-CN' ? 'è­¦å‘ŠæŒ‰é’®' : 'Warning' }}</el-button>
          <el-button type="danger">{{ currentLocale === 'zh-CN' ? 'å±é™©æŒ‰é’®' : 'Danger' }}</el-button>
          <el-button type="info">{{ currentLocale === 'zh-CN' ? 'ä¿¡æ¯æŒ‰é’®' : 'Info' }}</el-button>
        </div>
      </div>

      <!-- è¾“å…¥æ¡† -->
      <div>
        <h3 class="text-lg font-medium mb-3">
          {{ currentLocale === 'zh-CN' ? 'è¾“å…¥æ¡† (Input)' : 'Input' }}
        </h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 max-w-2xl">
          <el-input 
            v-model="inputValue" 
            :placeholder="currentLocale === 'zh-CN' ? 'è¯·è¾“å…¥å†…å®¹' : 'Please input'"
          />
          <el-input 
            v-model="inputValue2" 
            :placeholder="currentLocale === 'zh-CN' ? 'å¸¦å›¾æ ‡çš„è¾“å…¥æ¡†' : 'Input with icon'"
          >
            <template #prefix>
              <span>ğŸ”</span>
            </template>
          </el-input>
        </div>
      </div>

      <!-- é€‰æ‹©å™¨ -->
      <div>
        <h3 class="text-lg font-medium mb-3">
          {{ currentLocale === 'zh-CN' ? 'é€‰æ‹©å™¨ (Select)' : 'Select' }}
        </h3>
        <div class="max-w-md">
          <el-select 
            v-model="selectValue" 
            :placeholder="currentLocale === 'zh-CN' ? 'è¯·é€‰æ‹©' : 'Please select'"
            class="w-full"
          >
            <el-option 
              v-for="item in options" 
              :key="item.value" 
              :label="item.label" 
              :value="item.value"
            />
          </el-select>
        </div>
      </div>

      <!-- å¼€å…³ -->
      <div>
        <h3 class="text-lg font-medium mb-3">
          {{ currentLocale === 'zh-CN' ? 'å¼€å…³ (Switch)' : 'Switch' }}
        </h3>
        <div class="flex items-center gap-4">
          <el-switch v-model="switchValue1" />
          <el-switch v-model="switchValue2" />
          <el-switch v-model="switchValue3" />
        </div>
      </div>

      <!-- æ ‡ç­¾ -->
      <div>
        <h3 class="text-lg font-medium mb-3">
          {{ currentLocale === 'zh-CN' ? 'æ ‡ç­¾ (Tags)' : 'Tags' }}
        </h3>
        <div class="flex flex-wrap gap-2">
          <el-tag>{{ currentLocale === 'zh-CN' ? 'é»˜è®¤æ ‡ç­¾' : 'Default' }}</el-tag>
          <el-tag type="success">{{ currentLocale === 'zh-CN' ? 'æˆåŠŸæ ‡ç­¾' : 'Success' }}</el-tag>
          <el-tag type="warning">{{ currentLocale === 'zh-CN' ? 'è­¦å‘Šæ ‡ç­¾' : 'Warning' }}</el-tag>
          <el-tag type="danger">{{ currentLocale === 'zh-CN' ? 'å±é™©æ ‡ç­¾' : 'Danger' }}</el-tag>
          <el-tag type="info">{{ currentLocale === 'zh-CN' ? 'ä¿¡æ¯æ ‡ç­¾' : 'Info' }}</el-tag>
        </div>
      </div>

      <!-- è¿›åº¦æ¡ -->
      <div>
        <h3 class="text-lg font-medium mb-3">
          {{ currentLocale === 'zh-CN' ? 'è¿›åº¦æ¡ (Progress)' : 'Progress' }}
        </h3>
        <div class="space-y-3 max-w-2xl">
          <el-progress :percentage="50" />
          <el-progress :percentage="70" status="success" />
          <el-progress :percentage="90" status="warning" />
          <el-progress :percentage="100" status="exception" />
        </div>
      </div>

      <!-- æ¶ˆæ¯æç¤º -->
      <div>
        <h3 class="text-lg font-medium mb-3">
          {{ currentLocale === 'zh-CN' ? 'æ¶ˆæ¯æç¤º (Alert)' : 'Alert' }}
        </h3>
        <div class="space-y-3">
          <el-alert 
            :title="currentLocale === 'zh-CN' ? 'æˆåŠŸæç¤º' : 'Success alert'" 
            type="success" 
            show-icon 
          />
          <el-alert 
            :title="currentLocale === 'zh-CN' ? 'ä¿¡æ¯æç¤º' : 'Info alert'" 
            type="info" 
            show-icon 
          />
          <el-alert 
            :title="currentLocale === 'zh-CN' ? 'è­¦å‘Šæç¤º' : 'Warning alert'" 
            type="warning" 
            show-icon 
          />
          <el-alert 
            :title="currentLocale === 'zh-CN' ? 'é”™è¯¯æç¤º' : 'Error alert'" 
            type="error" 
            show-icon 
          />
        </div>
      </div>

      <!-- é€šçŸ¥æŒ‰é’® -->
      <div>
        <h3 class="text-lg font-medium mb-3">
          {{ currentLocale === 'zh-CN' ? 'é€šçŸ¥ (Notification)' : 'Notification' }}
        </h3>
        <div class="flex flex-wrap gap-3">
          <el-button @click="showNotification('success')">
            {{ currentLocale === 'zh-CN' ? 'æˆåŠŸé€šçŸ¥' : 'Success' }}
          </el-button>
          <el-button @click="showNotification('warning')">
            {{ currentLocale === 'zh-CN' ? 'è­¦å‘Šé€šçŸ¥' : 'Warning' }}
          </el-button>
          <el-button @click="showNotification('info')">
            {{ currentLocale === 'zh-CN' ? 'ä¿¡æ¯é€šçŸ¥' : 'Info' }}
          </el-button>
          <el-button @click="showNotification('error')">
            {{ currentLocale === 'zh-CN' ? 'é”™è¯¯é€šçŸ¥' : 'Error' }}
          </el-button>
        </div>
      </div>

      <!-- å¡ç‰‡ -->
      <div>
        <h3 class="text-lg font-medium mb-3">
          {{ currentLocale === 'zh-CN' ? 'å¡ç‰‡ (Card)' : 'Card' }}
        </h3>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <el-card shadow="hover">
            <template #header>
              <div class="font-medium">
                {{ currentLocale === 'zh-CN' ? 'å¡ç‰‡æ ‡é¢˜' : 'Card Title' }}
              </div>
            </template>
            <div>
              {{ currentLocale === 'zh-CN' ? 'è¿™æ˜¯å¡ç‰‡å†…å®¹' : 'Card content' }}
            </div>
          </el-card>
          <el-card shadow="hover">
            <template #header>
              <div class="font-medium">
                {{ currentLocale === 'zh-CN' ? 'å¡ç‰‡æ ‡é¢˜' : 'Card Title' }}
              </div>
            </template>
            <div>
              {{ currentLocale === 'zh-CN' ? 'è¿™æ˜¯å¡ç‰‡å†…å®¹' : 'Card content' }}
            </div>
          </el-card>
          <el-card shadow="hover">
            <template #header>
              <div class="font-medium">
                {{ currentLocale === 'zh-CN' ? 'å¡ç‰‡æ ‡é¢˜' : 'Card Title' }}
              </div>
            </template>
            <div>
              {{ currentLocale === 'zh-CN' ? 'è¿™æ˜¯å¡ç‰‡å†…å®¹' : 'Card content' }}
            </div>
          </el-card>
        </div>
      </div>

      <!-- ä¸»é¢˜é¢œè‰²ä¿¡æ¯ -->
      <div class="p-4 bg-success/10 border border-success rounded-lg">
        <h4 class="font-medium mb-2">
          âœ… {{ currentLocale === 'zh-CN' ? 'é›†æˆçŠ¶æ€' : 'Integration Status' }}
        </h4>
        <div class="text-sm space-y-1">
          <p v-if="currentLocale === 'zh-CN'">
            â€¢ Element Plus ç»„ä»¶å·²æˆåŠŸé›†æˆ Admin Core ä¸»é¢˜ç³»ç»Ÿ
          </p>
          <p v-else>
            â€¢ Element Plus components successfully integrated with Admin Core theme system
          </p>
          <p v-if="currentLocale === 'zh-CN'">
            â€¢ å½“å‰ä¸»é¢˜ï¼š<strong>{{ currentTheme?.name }}</strong>
          </p>
          <p v-else>
            â€¢ Current theme: <strong>{{ currentTheme?.name }}</strong>
          </p>
          <p v-if="currentLocale === 'zh-CN'">
            â€¢ æ¨¡å¼ï¼š<strong>{{ isDark ? 'æš—è‰²' : 'æµ…è‰²' }}</strong>
          </p>
          <p v-else>
            â€¢ Mode: <strong>{{ isDark ? 'Dark' : 'Light' }}</strong>
          </p>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, computed } from 'vue'
import { ElNotification } from 'element-plus'
import { useTheme, getLocale, type Locale } from '@admin-core/design'

// ä¸»é¢˜ç³»ç»Ÿ
const { isDark, getCurrentThemeMetadata } = useTheme()
const currentTheme = getCurrentThemeMetadata()

// å½“å‰è¯­è¨€
const currentLocale = computed<Locale>(() => getLocale())

// è¡¨å•æ•°æ®
const inputValue = ref('')
const inputValue2 = ref('')
const selectValue = ref('')
const switchValue1 = ref(true)
const switchValue2 = ref(false)
const switchValue3 = ref(true)

// é€‰æ‹©å™¨é€‰é¡¹
const options = computed(() => {
  if (currentLocale.value === 'zh-CN') {
    return [
      { value: '1', label: 'é€‰é¡¹ä¸€' },
      { value: '2', label: 'é€‰é¡¹äºŒ' },
      { value: '3', label: 'é€‰é¡¹ä¸‰' },
      { value: '4', label: 'é€‰é¡¹å››' },
    ]
  } else {
    return [
      { value: '1', label: 'Option 1' },
      { value: '2', label: 'Option 2' },
      { value: '3', label: 'Option 3' },
      { value: '4', label: 'Option 4' },
    ]
  }
})

// æ˜¾ç¤ºé€šçŸ¥
const showNotification = (type: 'success' | 'warning' | 'info' | 'error') => {
  const messages = {
    'zh-CN': {
      success: { title: 'æˆåŠŸ', message: 'è¿™æ˜¯ä¸€æ¡æˆåŠŸé€šçŸ¥æ¶ˆæ¯' },
      warning: { title: 'è­¦å‘Š', message: 'è¿™æ˜¯ä¸€æ¡è­¦å‘Šé€šçŸ¥æ¶ˆæ¯' },
      info: { title: 'ä¿¡æ¯', message: 'è¿™æ˜¯ä¸€æ¡ä¿¡æ¯é€šçŸ¥æ¶ˆæ¯' },
      error: { title: 'é”™è¯¯', message: 'è¿™æ˜¯ä¸€æ¡é”™è¯¯é€šçŸ¥æ¶ˆæ¯' },
    },
    'en-US': {
      success: { title: 'Success', message: 'This is a success notification' },
      warning: { title: 'Warning', message: 'This is a warning notification' },
      info: { title: 'Info', message: 'This is an info notification' },
      error: { title: 'Error', message: 'This is an error notification' },
    }
  }

  const msg = messages[currentLocale.value][type]
  
  ElNotification({
    title: msg.title,
    message: msg.message,
    type,
  })
}
</script>
